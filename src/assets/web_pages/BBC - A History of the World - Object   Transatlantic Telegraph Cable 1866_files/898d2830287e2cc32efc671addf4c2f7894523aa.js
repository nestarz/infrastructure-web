define("istats-1",[],function(){var K={},b=K,h,L="sa_labels",v="istats-notrack",Q="_istats_"+Math.random(),w={internal:true,external:true,download:true,clickthrough:true,promoimage:true},c={type:"",url:""},G=2000,B=10000,O=500,s,d={ignore:/.+\.(jpe?g|gif|png)$/i,webUrl:/^(\.\.?\/|\/|https?:\/\/|[^\/.:]+([\/.]|$))/i,pseudoProtocol:/^(mailto:|javascript:|about:|view-source:|data:)/i,internalUrl:/^(?:\/\/|https?:\/\/)?(?:[^.]+\.)*(bbc(?:\.co\.uk|\.com)|doubleclick\.net)(:|\/|$)/i,downloadUrl:/.+\.(pdf|te?xt|rtf|docx?|xlsx?|pptx?|od[tpsgbf]|mp[234]|m4a|mpeg|exe|dmg|zip|tgz)$/i,relativeUrl:/^(\.\.?\/|\/[^\/]|([^\/.:]+([\/.]|$)))/i,clickThrough:/^#sa-(.*?)(?:-sa(.*))?$/,hashLabels:/^ct_|ns_(fee|campaign|linkname|mchannel|source)=(.+?)$/,domain:/(bbc(?:\.co\.uk|\.com))$/i},x={},F={types:{"trackingfail.istats":true,"trackingsuccess.istats":true,"redirect.istats":true,"cookiecreated.istats":true}},P={},e={},D=[],A=function(){var R={};for(var S in F.types){R[S]=[]}return R},M=C(L),E="";p(window);M=(M||(l())._trackingCookie);if(M!==null){(l())._linkTracked=true}if(z()){f()}t(L);function p(R){(typeof R.istats==="undefined")&&(R.istats={});(typeof R.istats.enabled==="undefined")&&(R.istats.enabled=true);return R}function l(R){return R?p(R).istats:window.istats}K.getConfig=l;function k(){if(typeof M==="string"){c.type="internal";return M}}function o(S){if(history.replaceState){var R=location.protocol+"//"+location.host+(location.pathname?location.pathname:"");history.replaceState({},"",R+S)}else{location.hash=S}}function a(R){R||(R=location.hash);if(R!==""){var V=R.match(d.clickThrough),T,U="",W=[];if(V===null){return}if(V[2]){U="#"+V[2]}o(U);T=V[1];if(T===""){return}c.type="click through";W=T.split("&");for(var S in W){if(W.hasOwnProperty(S)&&!d.hashLabels.test(W[S])){W[S]="ct_"+W[S]}}T=W.join("&");return T}}function z(){var S=true,T=true,R=(l()).enabled;if(window.bbcFlagpoles_istats){T=!(window.bbcFlagpoles_istats==="ON")}if(T||!R){S=false}else{f()}return S}function f(){if(!h&&typeof istatsTrackingUrl!=="undefined"){h=istatsTrackingUrl;h+="&ns_ti="+escape(document.title);h+="&ns_c="+(document.characterSet?document.characterSet:document.defaultCharset)}return h}K._setTrackingServiceUrl=f;K._getTrackingServiceUrl=function(){return h};K.setCountername=function(R){h=h.replace(/([\?&]name=)[^&]*/ig,"$1"+R)};K.getCountername=function(){var R=h.match(/[\?&]name=([^&]*)/i);if(R){return R[1]}};function H(S,R){if(!S.className){return false}return(" "+S.className+" ").indexOf(" "+R+" ")===-1?false:true}function u(T,S){var R=(T.className)?T.className+" ":"";if(!H(T,S)){T.className=R+S}}function m(U,S){var R=U.className.split(" "),V=[],T=R.length;while(T--){if(R[T]!==S){V.unshift(R[T])}}U.className=(V.length)?V.join(" "):""}K.track=function(R,U){if(!z()){return}if(!w[R]){throw ('Given linkType, "'+R+'" is not valid.')}U=U||{};if(!U.region){U.region=[document.body]}if(typeof U.region.push==="undefined"){U.region=[U.region]}var T=U.region.length;while(T--){var V=U.region[T];i(V,R);var S=V[Q];S.linkTypesTracked[R]=(U||{});if(!S.trackerAttached){(function(W){x.attach(W,"click",function(X){e.dispatch(W,X)})})(V);S.trackerAttached=true}}};K.observe=function(R,T,U){if(!F.types[T]){throw ('Cannot observe: Given eventType, "'+T+'" in unknown.')}if(typeof R.push==="undefined"){R=[R]}var S=R.length;while(S--){i(R[S]);D[R[S][Q].eventsKey][T].push(U)}};K._isInternal=function(R){return K._isWebUrl(R)&&(d.relativeUrl.test(R)||d.internalUrl.test(R))};K._isExternal=function(R){return K._isWebUrl(R)&&!b._isInternal(R)};K._isDownload=function(R){return d.webUrl.test(R)&&d.downloadUrl.test(R)};K._isWebUrl=function(R){return d.webUrl.test(R)&&!d.ignore.test(R)&&!d.pseudoProtocol.test(R)};K._getDomainFromHost=y;function y(R){var S=R.match(d.domain);return S?S[1]:R}K._getLabelsFromHashString=a;K._createCookie=I;K._inspectTracking=function(R){if(typeof R!=="undefined"){c=R}return c};K.log=function(T,S,W,X){var R="",V;if(!z()){return}S=encodeURIComponent(S);T=encodeURIComponent(T);for(var U in W){R+="&"+encodeURIComponent(U)+"="+encodeURIComponent(W[U])}if(T.toLowerCase()==="pageview"){K.setCountername(S);V=h}else{V=h+"&ns_type=hidden&action_type="+T+"&action_name="+S}V+=R;c.type="logging actions";r(V,X)};K.addNoTrack=function(R){u(R,v)};K.removeNoTrack=function(R){m(R,v)};function J(T){var S=[];for(var R in T){if(T.hasOwnProperty(R)){S.push(encodeURIComponent(R)+"="+encodeURIComponent(T[R]))}}return S.join("&")}K.addLabels=function(S){var R=J(S);if(R){h+=(h?"&":"")+R;E+="&"+R}};F.notify=function(V,T,W){var R=D[V[Q].eventsKey][T];for(var S=0,U=R.length;S<U;S++){if(typeof R[S]==="function"){if(R[S](W)===false){return false}}}};x.attach=function(R,T,S){if(R.addEventListener){R.addEventListener(T,S,false)}else{if(R.attachEvent){R.attachEvent("on"+T,S)}else{R["on"+T]=S}}};x.detach=function(R,T,S){if(R.removeEventListener){R.removeEventListener(T,S,false)}else{if(R.detachEvent){R.detachEvent("on"+T,S)}else{R["on"+T]=null}}};x.getTarget=function(R){R=R||window.event;return R.target||R.srcElement};function j(S,R){var T=S;do{if(T.nodeName=="A"){return T}if(T===R){return false}}while(T=T.parentNode)}function N(R){if(!b._isWebUrl(R)){return}if(b._isExternal(R)){return"external"}else{if(b._isDownload(R)){return"download"}else{if(b._isInternal(R)){return"internal"}}}}function n(V,S,U,R,T){V.istats={linkType:S,linkTrackerUrl:U,linkLocation:R,linkElement:T}}e.dispatch=function(Y,X){var S=j(x.getTarget(X),this),R,T,V,U,W;if(!S||!S.href){return}U=new Date().getTime();W=(S.istatsTimestamp&&(U-S.istatsTimestamp)<O);if(W||H(S,v)){return}R=N(S.href);T=e[R];V=Y[Q].linkTypesTracked[R];if(!R||!T||!V){return}S.istatsTimestamp=U;X.istats=X.istats||{};e[R](Y,S,X)};e.external=function(S,Y,X){var R=S[Q].linkTypesTracked.external||{},W=encodeURIComponent(Y.href)||"",Z=Y.id?"&extlink_id="+encodeURIComponent(Y.id):"",V=Y.linktrack?"&"+Y.linktrack:"",T=R.linkLocation?"&link_location="+encodeURIComponent(R.linkLocation):"",U=h+"&ns_type=hidden&action_type=extlink&extlink_url="+W+Z+V+T;c.type="external";n(X,"external",U,R.linkLocation,Y);q(U,S,Y,X)};e.download=function(Y,U,W){var T=Y[Q].linkTypesTracked.download||{},V=encodeURIComponent(U.href)||"",X=U.id?"&download_id="+encodeURIComponent(U.id):"",R=T.linkLocation?"&link_location="+encodeURIComponent(T.linkLocation):"",S=h+"&ns_type=hidden&action_type=download&download_url="+V+X+R;c.type="download";n(W,"download",S,T.linkLocation,U);q(S,Y,U,W)};e.internal=function(U,Z,Y){var R=U[Q].linkTypesTracked.internal||{},V="intlink_from_url="+encodeURIComponent(location.href),W="&intlink_ts="+new Date().getTime(),aa=Z.id?"&intlink_id="+encodeURIComponent(Z.id):"",X=Z.linktrack?"&"+Z.linktrack:"",T=R.linkLocation?"&link_location="+encodeURIComponent(R.linkLocation):"",S=V+W+aa+X+T+E;I(L,S,B);F.notify(U,"cookiecreated.istats",Y)};function q(S,W,T,U){var R=U.altKey||U.ctrlKey||U.metaKey||U.shiftKey,V=function(){};if(!R){V=function(){if(F.notify(W,"redirect.istats",U)!==false){window.location.href=T.href}}}clearTimeout(s);s=setTimeout(function(){F.notify(W,"trackingfail.istats",U);V()},G);r(S,function(){clearTimeout(s);if(F.notify(W,"trackingsuccess.istats",U)!==false){V()}},U);if(!R){if(U.preventDefault){U.preventDefault()}else{event.returnValue=false}}}function r(S,U,T){var R;S+="&ns__t="+(new Date().getTime());S+="&ns_jspageurl="+escape(location&&location.href?location.href:document.URL);if(T&&T.istats.linkTrackerUrl){T.istats.linkTrackerUrl=S}R=new Image();if(typeof U==="function"){R.onload=function(){U()}}c.url=S;R.src=S}function i(R){if(typeof R[Q]!=="undefined"){return}R[Q]={eventsKey:D.length,linkTypesTracked:{}};D.push(A())}function I(R,X,T){var U=new Date(),W=365*24*60*60*1000,Z=window.location.host,V,Y,S;if(typeof T==="undefined"){T=W}U.setTime(U.getTime()+T);Y="; expires="+U.toGMTString();V=y(Z);S=R+"="+encodeURIComponent(X)+Y+"; domain="+V+"; path=/";document.cookie=S;return S}function C(T){var W=T+"=",V=document.cookie.split(";"),S;for(var U=0,R=V.length;U<R;U++){S=V[U];while(S.charAt(0)===" "){S=S.substring(1,S.length)}if(S.indexOf(W)===0){return decodeURIComponent(S.substring(W.length,S.length))}}return null}function t(R){if(C(R)!==null){I(R,"",-1)}}function g(){var R;if(!z()&&typeof h!=="string"){return}R=k()||a();if(R){r(h+"&"+R);(l())._linkTracked=true}}if(typeof require.ready==="function"){require.ready(g)}else{require(["domReady"],function(R){R(g)})}return K});